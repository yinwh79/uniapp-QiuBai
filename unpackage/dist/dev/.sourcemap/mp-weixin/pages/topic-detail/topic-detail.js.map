{"version":3,"sources":["webpack:///C:/Users/Administrator.USER-20190305JF/Desktop/uniapp糗百/main.js","webpack:///C:/Users/Administrator.USER-20190305JF/Desktop/uniapp糗百/pages/topic-detail/topic-detail.vue?c106","webpack:///C:/Users/Administrator.USER-20190305JF/Desktop/uniapp糗百/pages/topic-detail/topic-detail.vue?4cc5","webpack:///C:/Users/Administrator.USER-20190305JF/Desktop/uniapp糗百/pages/topic-detail/topic-detail.vue?0eaa","webpack:///C:/Users/Administrator.USER-20190305JF/Desktop/uniapp糗百/pages/topic-detail/topic-detail.vue?0c61","webpack:///C:/Users/Administrator.USER-20190305JF/Desktop/uniapp糗百/pages/topic-detail/topic-detail.vue"],"names":["createPage","Page","components","topicInfo","swiperTabHead","commonList","loadMore","data","titlepic","title","desc","totalnum","todaynum","tabIndex","tabBars","name","id","tablist","loadtext","list","firstload","page","onReachBottom","loadmore","onPullDownRefresh","getList","onLoad","e","__init","JSON","parse","detail","uni","$on","updateData","methods","type","updateGuanZhu","updateSupport","updateComment","obj","find","value","post_id","commentnum","forEach","item","index","userid","isguanzhu","infonum","do","goodnum","setNavigationBarTitle","url","$http","get","token","err","res","errorCheck","arr","i","length","push","__format","concat","stopPullDownRefresh","user","userpic","username","fens","video","path","share","support","dingnum","ding_count","cainum","cai_count","comment_count","sharenum","sex","userinfo","age","tabtap"],"mappings":"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","file":"pages/topic-detail/topic-detail.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/topic-detail/topic-detail.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./topic-detail.vue?vue&type=template&id=95155136&\"\nimport script from \"./topic-detail.vue?vue&type=script&lang=js&\"\nexport * from \"./topic-detail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\UniApp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\UniApp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('95155136', component.options)\n    } else {\n      api.reload('95155136', component.options)\n    }\n    module.hot.accept(\"./topic-detail.vue?vue&type=template&id=95155136&\", function () {\n      api.rerender('95155136', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/Administrator.USER-20190305JF/Desktop/uniapp糗百/pages/topic-detail/topic-detail.vue\"\nexport default component.exports","export * from \"-!F:\\\\UniApp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-hbuilderx\\\\packages\\\\webpack-uni-nvue-loader\\\\lib\\\\templateLoader.js??vue-loader-options!F:\\\\UniApp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!F:\\\\UniApp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\UniApp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\UniApp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\UniApp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./topic-detail.vue?vue&type=template&id=95155136&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!F:\\\\UniApp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\UniApp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\UniApp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\UniApp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\UniApp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\UniApp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./topic-detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\UniApp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\UniApp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\UniApp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\UniApp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\UniApp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\UniApp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./topic-detail.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport topicInfo from \"../../components/topic/topic-info.vue\";\nimport swiperTabHead from \"../../components/index/swiper-tab-head.vue\";\nimport commonList from \"../../components/common/common-list.vue\";\nimport loadMore from \"../../components/common/load-more.vue\";\nexport default {\n\tcomponents:{\n\t\ttopicInfo,\n\t\tswiperTabHead,\n\t\tcommonList,\n\t\tloadMore\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttopicInfo:{\n\t\t\t\ttitlepic:\"../../static/demo/topicpic/13.jpeg\",\n\t\t\t\ttitle:\"忆往事，敬余生\",\n\t\t\t\tdesc:\"我是描述\",\n\t\t\t\ttotalnum:1000,\n\t\t\t\ttodaynum:1000,\n\t\t\t},\n\t\t\ttabIndex:0,\n\t\t\ttabBars:[\n\t\t\t\t{ name:\"默认\",id:\"moren\" },\n\t\t\t\t{ name:\"最新\",id:\"zuixin\" },\n\t\t\t],\n\t\t\ttablist:[\n\t\t\t\t{ loadtext:\"上拉加载更多\",list:[],firstload:false,page:1},\n\t\t\t\t{ loadtext:\"上拉加载更多\",list:[],firstload:false,page:1},\n\t\t\t]\n\t\t};\n\t},\n\t// 上拉触底事件\n\tonReachBottom() {\n\t\t// 上拉加载\n\t\tthis.loadmore();\n\t},\n\t// 监听下拉刷新 \n\tonPullDownRefresh(){\n\t\tthis.getList();\n\t},\n\tonLoad(e) {\n\t\tthis.__init(JSON.parse(e.detail));\n\t\t// 开启监听\n\t\tuni.$on('updateData',this.updateData);\n\t},\n\tmethods:{\n\t\tupdateData(data){\n\t\t\tswitch (data.type){\n\t\t\t\tcase \"guanzhu\":\n\t\t\t\tthis.updateGuanZhu(data)\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"support\":\n\t\t\t\tthis.updateSupport(data);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'updateComment':\n\t\t\t\tthis.updateComment(data);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t// 更新评论数\n\t\tupdateComment(data){\n\t\t\t// 拿到当前对象\n\t\t\tlet obj = this.tablist[this.tabIndex].list.find(value =>{\n\t\t\t\treturn value.id === data.post_id;\n\t\t\t});\n\t\t\tif (!obj) return;\n\t\t\tobj.commentnum++; // 评论数+1\n\t\t},\n\t\t// 更新关注信息\n\t\tupdateGuanZhu(data){\n\t\t\tthis.tablist[this.tabIndex].list.forEach((item,index)=>{\n\t\t\t\tif (item.userid === data.userid) {\n\t\t\t\t\titem.isguanzhu = data.data;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tupdateSupport(data){\n\t\t\tlet obj = this.tablist[this.tabIndex].list.find((item)=>{\n\t\t\t\treturn item.id === data.post_id;\n\t\t\t})\n\t\t\tif(!obj || obj.infonum.index === 1) return;\n\t\t\tif (data.do == 'ding') {\n\t\t\t\tobj.infonum.index = 1;\n\t\t\t\tobj.goodnum++;\n\t\t\t}\n\t\t},\n\t\t// 初始化\n\t\t__init(obj){\n\t\t\t// 修改标题\n\t\t\tuni.setNavigationBarTitle({ title: obj.title });\n\t\t\tthis.topicInfo = obj;\n\t\t\t// 获取列表数据\n\t\t\tthis.getList();\n\t\t},\n\t\t// 获取数据\n\t\tasync getList(){\n\t\t\tlet url = `/topic/${this.topicInfo.id}/post/${this.tablist[this.tabIndex].page}`;\n\t\t\tlet [err,res] = await this.$http.get(url,{},{token:true});\n\t\t\t// 错误处理\n\t\t\tif (!this.$http.errorCheck(err,res)) {\n\t\t\t\treturn this.tablist[this.tabIndex].loadtext=\"上拉加载更多\";\n\t\t\t}\n\t\t\tlet arr = [];\n\t\t\tlet list = res.data.data.list;\n\t\t\tfor (let i = 0; i < list.length; i++) {\n\t\t\t\tarr.push(this.__format(list[i]));\n\t\t\t}\n\t\t\tthis.tablist[this.tabIndex].list = this.tablist[this.tabIndex].page > 1 ? this.tablist[this.tabIndex].list.concat(arr) : arr;\n\t\t\tthis.tablist[this.tabIndex].firstload = true;\n\t\t\tuni.stopPullDownRefresh();\n\t\t\treturn\tthis.tablist[this.tabIndex].loadtext=(list.length < 10) ?\"没有更多数据了\" : \"上拉加载更多\";\n\t\t},\n\t\t// 转换格式\n\t\t__format(item){\n\t\t\treturn {\n\t\t\t\tuserid:item.user.id,\n\t\t\t\tuserpic:item.user.userpic,\n\t\t\t\tusername:item.user.username,\n\t\t\t\tisguanzhu:!!item.user.fens.length,\n\t\t\t\tid:item.id,\n\t\t\t\ttitle:item.title,\n\t\t\t\ttype:\"img\", // img:图文,video:视频\n\t\t\t\ttitlepic:item.titlepic,\n\t\t\t\tvideo:false,\n\t\t\t\tpath:item.path,\n\t\t\t\tshare:!!item.share,\n\t\t\t\tinfonum:{\n\t\t\t\t\tindex:(item.support.length>0) ? (item.support[0].type+1) : 0,\n\t\t\t\t\tdingnum:item.ding_count,\n\t\t\t\t\tcainum:item.cai_count,\n\t\t\t\t},\n\t\t\t\tgoodnum:item.ding_count,\n\t\t\t\tcommentnum:item.comment_count,\n\t\t\t\tsharenum:item.sharenum,\n\t\t\t\tsex:item.user.userinfo.sex,\n\t\t\t\tage:item.user.userinfo.age,\n\t\t\t}\n\t\t},\n\t\t// 上拉加载\n\t\tloadmore(){\n\t\t\tif(this.tablist[this.tabIndex].loadtext!=\"上拉加载更多\") return;\n\t\t\t// 修改状态\n\t\t\tthis.tablist[this.tabIndex].loadtext=\"加载中...\";\n\t\t\t// 页数+1\n\t\t\tthis.tablist[this.tabIndex].page++;\n\t\t\t// 获取数据\n\t\t\tthis.getList();\n\t\t},\n\t\t// tabbar点击事件\n\t\ttabtap(index){\n\t\t\tthis.tabIndex=index;\n\t\t\tthis.tablist[this.tabIndex].page = 1;\n\t\t\tthis.getList();\n\t\t},\n\t}\n}\n"],"sourceRoot":""}